(this["webpackJsonpvk-yoomoney-donate"]=this["webpackJsonpvk-yoomoney-donate"]||[]).push([[0],{131:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(18),i=a.n(c),s=a(17),l=a.n(s),r=a(29),j=a(13),d=a(23),u=a.n(d),b=a(6),o=(a(127),a(24)),O=a.n(o),h={173834599:{wallet:"4100117703640735"},177193845:{wallet:"410017408518903"},185486377:{wallet:"410013551203596"},191019732:{wallet:"410018896391866"}},p="NO_GROUP",m="NO_WALLET",v=a(5),x=function(e){var t=e.id,a=e.wallet,c=e.label,i=e.hashParams,s=Object(n.useState)(25),l=Object(j.a)(s,2),r=l[0],d=l[1],u=Object(n.useState)(""),o=Object(j.a)(u,2),O=o[0],h=o[1];return Object(n.useEffect)((function(){i.sum&&d(i.sum),i.aucs&&h(i.aucs.slice(0,150))}),[]),Object(v.jsx)(n.Fragment,{children:Object(v.jsxs)(b.f,{onSubmit:function(e){},id:t,target:"about:blank",method:"POST",action:"https://yoomoney.ru/quickpay/confirm.xml",children:[Object(v.jsx)(b.e,{top:"\u0421\u0443\u043c\u043c\u0430",children:Object(v.jsx)(b.g,{type:"text",name:"sum",pattern:"[0-9]*",maxLength:"5",value:r,onInput:function(e){e.target.validity.valid&&d(e.target.value)}})}),Object(v.jsx)(b.e,{top:"\u041b\u043e\u0442\u044b",bottom:"\u0434\u043e 150 \u0437\u043d\u0430\u043a\u043e\u0432",children:Object(v.jsx)(b.m,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u043c\u0435\u0440\u0430 \u043b\u043e\u0442\u043e\u0432 \u0447\u0435\u0440\u0435\u0437 \u0437\u0430\u043f\u044f\u0442\u0443\u044e",maxLength:"150",name:"targets",value:O,onInput:function(e){(e.target.validity.valid||e.target.value.length<=0)&&h(e.target.value)},required:!0})}),Object(v.jsx)(b.e,{children:Object(v.jsx)(b.d,{style:{display:"flex",justifyContent:"space-around"},children:Object(v.jsx)(b.c,{type:"submit",size:"m",children:"\u041e\u043f\u043b\u0430\u0442\u0438\u0442\u044c"})})}),Object(v.jsx)("input",{type:"hidden",name:"receiver",value:a}),Object(v.jsx)("input",{type:"hidden",name:"quickpay-form",value:"donate"}),Object(v.jsx)("input",{type:"hidden",name:"paymentType",value:"AC"}),Object(v.jsx)("input",{type:"hidden",name:"label",value:c}),Object(v.jsx)("input",{type:"hidden",name:"need-fio",value:"false"}),Object(v.jsx)("input",{type:"hidden",name:"need-email",value:"false"}),Object(v.jsx)("input",{type:"hidden",name:"need-phone",value:"false"}),Object(v.jsx)("input",{type:"hidden",name:"need-address",value:"false"})]})})},f=function(e){var t=e.id,a=e.wallet,n=e.label,c=e.hashParams;return Object(v.jsxs)(b.h,{id:t,children:[Object(v.jsx)(b.i,{children:Object(v.jsx)(b.n,{level:"1",children:"\u041e\u043f\u043b\u0430\u0442\u0430 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438 \u0437\u0430 \u043b\u043e\u0442"})}),Object(v.jsx)(b.d,{children:Object(v.jsx)(x,{id:"paymentForm",wallet:a,label:n,hashParams:c})})]})},y=function(e){var t,a=e.id;switch(e.errCase){case m:t="\u042d\u0442\u043e\u0439 \u0433\u0440\u0443\u043f\u043f\u0435 \u043d\u0435 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d \u043a\u043e\u0448\u0435\u043b\u0435\u043a";break;case p:t="\u041e\u0442\u043a\u0440\u043e\u0439\u0442\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0438\u0437 \u0433\u0440\u0443\u043f\u043f\u044b";break;default:t=""}return Object(v.jsxs)(b.h,{id:a,children:[Object(v.jsx)(b.i,{children:Object(v.jsx)(b.n,{level:"2",children:"\u041e\u0448\u0438\u0431\u043a\u0430"})}),Object(v.jsx)(b.d,{children:Object(v.jsx)(b.l,{weight:"semibold",children:t})})]})},w=function(e){var t=e.id;return Object(v.jsx)(b.h,{id:t})},g=function(){var e=Object(n.useState)("blank"),t=Object(j.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)("view1"),s=Object(j.a)(i,2),d=s[0],o=s[1],x=Object(n.useState)(Object(v.jsx)(b.k,{size:"large"})),g=Object(j.a)(x,2),k=g[0],S=g[1],_=Object(n.useState)(""),P=Object(j.a)(_,2),A=P[0],C=P[1],I=Object(n.useState)(""),E=Object(j.a)(I,2),L=E[0],q=E[1],N=Object(n.useState)(""),T=Object(j.a)(N,2),V=T[0],W=T[1],z=Object(n.useState)({}),F=Object(j.a)(z,2),J=F[0],K=F[1];return Object(n.useEffect)((function(){function e(){return(e=Object(r.a)(u.a.mark((function e(){var t,a,n,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=O.a.parse(window.location.search.slice(1))).vk_group_id?null!==(a=h[t.vk_group_id])&&void 0!==a&&a.wallet?(q(null===(n=h[t.vk_group_id])||void 0===n?void 0:n.wallet),W(t.vk_user_id),i=O.a.parse(window.location.hash.slice(1)),K(i),c("payment")):(C(m),c("error")):(C(p),c("error")),o("view2"),S(null);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}l.a.subscribe((function(e){var t=e.detail,a=t.type,n=t.data;if("VKWebAppUpdateConfig"===a){var c=document.createAttribute("scheme");c.value=n.scheme?n.scheme:"client_light",document.body.attributes.setNamedItem(c)}})),function(){e.apply(this,arguments)}()}),[]),Object(v.jsx)(b.a,{children:Object(v.jsx)(b.b,{children:Object(v.jsxs)(b.j,{activeView:d,children:[Object(v.jsx)(b.o,{id:"view1",children:Object(v.jsx)(w,{id:"blank"})}),Object(v.jsxs)(b.o,{activePanel:a,id:"view2",popout:k,children:[Object(v.jsx)(y,{id:"error",errCase:A}),Object(v.jsx)(f,{id:"payment",wallet:L,label:V,hashParams:J})]})]})})})};l.a.send("VKWebAppInit"),i.a.render(Object(v.jsx)(g,{}),document.getElementById("root"))}},[[131,1,2]]]);