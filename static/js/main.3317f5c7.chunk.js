(this["webpackJsonpvk-yoomoney-donate"]=this["webpackJsonpvk-yoomoney-donate"]||[]).push([[0],{131:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(18),i=a.n(c),s=a(17),l=a.n(s),r=a(29),j=a(12),d=a(23),o=a.n(d),u=a(6),b=(a(127),a(24)),p=a.n(b),O={173834599:{wallet:"4100117703640735"},177193845:{wallet:"410017408518903"},185486377:{wallet:"410013551203596"},191019732:{wallet:"410018896391866"}},h="NO_GROUP",m="NO_WALLET",v=a(5),x=function(e){var t=e.id,a=e.wallet,c=e.label,i=e.hashParams,s=e.isApple,l=Object(n.useState)(25),r=Object(j.a)(l,2),d=r[0],o=r[1],b=Object(n.useState)(""),p=Object(j.a)(b,2),O=p[0],h=p[1],m=Object(n.useState)(""),x=Object(j.a)(m,2),f=x[0],y=x[1];return Object(n.useEffect)((function(){i.sum&&o(i.sum),i.aucs&&h(i.aucs.slice(0,150))}),[]),Object(v.jsxs)(n.Fragment,{children:[Object(v.jsxs)(u.f,{onSubmit:function(e){y(e.target.target),navigator.userAgent.match(/(iPod|Iphone|iPad|iOS)/i)&&(e.target.target="_self",y(e.target.target))},id:t,target:"about:blank",method:"POST",action:"https://yoomoney.ru/quickpay/confirm.xml",children:[Object(v.jsx)(u.e,{top:"\u0421\u0443\u043c\u043c\u0430",children:Object(v.jsx)(u.g,{type:"text",name:"sum",pattern:"[0-9]*",maxLength:"5",value:d,onInput:function(e){e.target.validity.valid&&o(e.target.value)}})}),Object(v.jsx)(u.e,{top:"\u041b\u043e\u0442\u044b",bottom:"\u0434\u043e 150 \u0437\u043d\u0430\u043a\u043e\u0432",children:Object(v.jsx)(u.m,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u043c\u0435\u0440\u0430 \u043b\u043e\u0442\u043e\u0432 \u0447\u0435\u0440\u0435\u0437 \u0437\u0430\u043f\u044f\u0442\u0443\u044e",maxLength:"150",name:"targets",value:O,onInput:function(e){(e.target.validity.valid||e.target.value.length<=0)&&h(e.target.value)},required:!0})}),Object(v.jsx)(u.e,{children:Object(v.jsx)(u.d,{style:{display:"flex",justifyContent:"space-around"},children:Object(v.jsx)(u.c,{type:"submit",size:"m",children:"\u041e\u043f\u043b\u0430\u0442\u0438\u0442\u044c"})})}),Object(v.jsx)("input",{type:"hidden",name:"receiver",value:a}),Object(v.jsx)("input",{type:"hidden",name:"quickpay-form",value:"donate"}),Object(v.jsx)("input",{type:"hidden",name:"paymentType",value:"AC"}),Object(v.jsx)("input",{type:"hidden",name:"label",value:c}),Object(v.jsx)("input",{type:"hidden",name:"need-fio",value:"false"}),Object(v.jsx)("input",{type:"hidden",name:"need-email",value:"false"}),Object(v.jsx)("input",{type:"hidden",name:"need-phone",value:"false"}),Object(v.jsx)("input",{type:"hidden",name:"need-address",value:"false"})]}),Object(v.jsx)(u.l,{style:{color:"#f0f1f2"},children:s?"true":"false"}),Object(v.jsx)(u.l,{style:{color:"#f0f1f2"},children:navigator.userAgent}),Object(v.jsx)(u.l,{style:{color:"#f0f1f2"},children:f})]})},f=function(e){var t=e.id,a=e.wallet,n=e.label,c=e.hashParams,i=e.isApple;return Object(v.jsxs)(u.h,{id:t,children:[Object(v.jsx)(u.i,{children:Object(v.jsx)(u.n,{level:"1",children:"\u041e\u043f\u043b\u0430\u0442\u0430 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438 \u0437\u0430 \u043b\u043e\u0442"})}),Object(v.jsx)(u.d,{children:Object(v.jsx)(x,{id:"paymentForm",wallet:a,label:n,hashParams:c,isApple:i})})]})},y=function(e){var t,a=e.id;switch(e.errCase){case m:t="\u042d\u0442\u043e\u0439 \u0433\u0440\u0443\u043f\u043f\u0435 \u043d\u0435 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d \u043a\u043e\u0448\u0435\u043b\u0435\u043a";break;case h:t="\u041e\u0442\u043a\u0440\u043e\u0439\u0442\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0438\u0437 \u0433\u0440\u0443\u043f\u043f\u044b";break;default:t=""}return Object(v.jsxs)(u.h,{id:a,children:[Object(v.jsx)(u.i,{children:Object(v.jsx)(u.n,{level:"2",children:"\u041e\u0448\u0438\u0431\u043a\u0430"})}),Object(v.jsx)(u.d,{children:Object(v.jsx)(u.l,{weight:"semibold",children:t})})]})},g=function(e){var t=e.id;return Object(v.jsx)(u.h,{id:t})},w=function(){var e=Object(n.useState)("blank"),t=Object(j.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)("view1"),s=Object(j.a)(i,2),d=s[0],b=s[1],x=Object(n.useState)(Object(v.jsx)(u.k,{size:"large"})),w=Object(j.a)(x,2),_=w[0],k=w[1],S=Object(n.useState)(""),A=Object(j.a)(S,2),P=A[0],I=A[1],C=Object(n.useState)(""),E=Object(j.a)(C,2),L=E[0],q=E[1],N=Object(n.useState)(""),T=Object(j.a)(N,2),V=T[0],W=T[1],z=Object(n.useState)({}),F=Object(j.a)(z,2),J=F[0],K=F[1],U=Object(n.useState)(!1),B=Object(j.a)(U,2),G=B[0],R=B[1];return Object(n.useEffect)((function(){function e(){return(e=Object(r.a)(o.a.mark((function e(){var t,a,n,i,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=p.a.parse(window.location.search.slice(1))).vk_platform&&("mobile_ipad"!==(a=t.vk_platform).platform&&"mobile_iphone"!==a&&"mobile_iphone_messenger"!==a&&"iphone_external"!==a&&"ipad_external "!==a||R(!0)),t.vk_group_id?null!==(n=O[t.vk_group_id])&&void 0!==n&&n.wallet?(q(null===(i=O[t.vk_group_id])||void 0===i?void 0:i.wallet),W(t.vk_user_id),s=p.a.parse(window.location.hash.slice(1)),K(s),c("payment")):(I(m),c("error")):(I(h),c("error")),b("view2"),k(null);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}l.a.subscribe((function(e){var t=e.detail,a=t.type,n=t.data;if("VKWebAppUpdateConfig"===a){var c=document.createAttribute("scheme");c.value=n.scheme?n.scheme:"client_light",document.body.attributes.setNamedItem(c)}})),function(){e.apply(this,arguments)}()}),[]),Object(v.jsx)(u.a,{children:Object(v.jsx)(u.b,{children:Object(v.jsxs)(u.j,{activeView:d,children:[Object(v.jsx)(u.o,{id:"view1",children:Object(v.jsx)(g,{id:"blank"})}),Object(v.jsxs)(u.o,{activePanel:a,id:"view2",popout:_,children:[Object(v.jsx)(y,{id:"error",errCase:P}),Object(v.jsx)(f,{id:"payment",wallet:L,label:V,hashParams:J,isApple:G})]})]})})})};l.a.send("VKWebAppInit"),i.a.render(Object(v.jsx)(w,{}),document.getElementById("root"))}},[[131,1,2]]]);